## 整数溢出

下面这个 _C_ 程序 ( _test.c_ ) 运行后输出什么？是 _1000000000000_ (一万亿) 吗？

```c
#include <stdio.h>

int main(int argc, char *argv[])
{
    int value = 1000000;
    printf("%d\n", value * value);

    return 0;
}
```

可能有不少人觉得这没啥好问的，一百万乘以一百万不就是一万亿吗？但现实却不是如此。

在计算机中，由于变量类型存储空间固定，它能表示的数值范围也是有限的。以 _int_ 为例，该类型长度为 _32_ 位，能表示的整数范围为 _-2147483648_ 至 _2147483647_ 。一万亿显然超出该范围，换句话讲程序发生了 **整数溢出** 。因此，运行 _test.c_ ，程序这样输出也就不奇怪了：

```c
$ gcc -o test test.c
$ ./test
-727379968
```

不仅是 _C_ 语言，很多编程语言都存在整数溢出的问题，数据库中的整数类型也是。由于整数溢出现象的存在，程序员需要结合业务场景，谨慎选择数据类型。一旦选择不慎或者代码考虑不周，便会导致严重 _BUG_ 。

