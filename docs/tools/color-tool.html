<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é¢œè‰²è½¬æ¢å·¥å…· - AIæ™ºèƒ½æŠ€æœ¯çŸ¥è¯†å¹³å°</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #2d1f0c 100%);
      color: #e0e0e0;
      padding: 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      padding: 30px 0;
      margin-bottom: 30px;
      border-bottom: 2px solid #d4af37;
    }

    .header h1 {
      color: #f4d03f;
      font-size: 2.5em;
      margin-bottom: 10px;
    }

    .header p {
      color: #c5c5c5;
      font-size: 1.1em;
    }

    .back-links {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .back-link {
      display: inline-block;
      color: #d4af37;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s;
    }

    .back-link:hover {
      color: #f4d03f;
    }

    /* é¢œè‰²è¾“å…¥åŒº */
    .color-input-section {
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      border: 2px solid #d4af37;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
    }

    .input-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .input-group {
      display: flex;
      flex-direction: column;
    }

    .input-label {
      color: #d4af37;
      font-size: 14px;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .color-input {
      background: #0a0a0a;
      border: 2px solid #b8960f;
      border-radius: 8px;
      padding: 12px;
      color: #e0e0e0;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 14px;
      transition: all 0.3s;
    }

    .color-input:focus {
      outline: none;
      border-color: #d4af37;
      box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
    }

    .slider-group {
      margin-top: 10px;
    }

    .slider-container {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .slider-label {
      color: #888;
      font-size: 13px;
      width: 30px;
    }

    .slider {
      flex: 1;
      height: 6px;
      border-radius: 3px;
      outline: none;
      -webkit-appearance: none;
      background: linear-gradient(90deg, #333, #d4af37);
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #f4d03f;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    .slider::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #f4d03f;
      cursor: pointer;
      border: none;
    }

    .slider-value {
      color: #f4d03f;
      font-weight: 600;
      font-family: 'Consolas', 'Monaco', monospace;
      width: 50px;
      text-align: right;
    }

    /* é¢œè‰²é¢„è§ˆåŒº */
    .preview-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px;
      margin-bottom: 25px;
    }

    .preview-box {
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      border: 2px solid #d4af37;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
    }

    .preview-title {
      color: #f4d03f;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 15px;
    }

    .color-preview {
      width: 100%;
      height: 200px;
      border-radius: 8px;
      border: 2px solid #b8960f;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      transition: all 0.3s;
    }

    .text-preview {
      margin-top: 15px;
      padding: 15px;
      border-radius: 8px;
      border: 2px solid #b8960f;
    }

    .preview-text {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    /* æ ¼å¼è¾“å‡ºåŒº */
    .formats-section {
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      border: 2px solid #d4af37;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
    }

    .formats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
    }

    .format-item {
      background: rgba(212, 175, 55, 0.1);
      border: 1px solid #b8960f;
      border-radius: 8px;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .format-info {
      flex: 1;
    }

    .format-name {
      color: #d4af37;
      font-size: 13px;
      margin-bottom: 5px;
    }

    .format-value {
      color: #e0e0e0;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 14px;
      word-break: break-all;
    }

    .copy-btn-small {
      background: rgba(212, 175, 55, 0.3);
      color: #f4d03f;
      border: 1px solid #d4af37;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s;
      flex-shrink: 0;
      margin-left: 10px;
    }

    .copy-btn-small:hover {
      background: rgba(212, 175, 55, 0.5);
    }

    /* é…è‰²æ–¹æ¡ˆåŒº */
    .palette-section {
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      border: 2px solid #d4af37;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
    }

    .palette-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
      gap: 15px;
    }

    .palette-item {
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .palette-item:hover {
      transform: scale(1.05);
    }

    .palette-color {
      width: 100%;
      height: 80px;
      border-radius: 8px;
      border: 2px solid #b8960f;
      margin-bottom: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }

    .palette-label {
      color: #888;
      font-size: 12px;
    }

    .message {
      position: fixed;
      top: 100px;
      right: 30px;
      padding: 15px 25px;
      border-radius: 8px;
      font-weight: 600;
      z-index: 10000;
      animation: slideIn 0.3s ease;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .message.success {
      background: rgba(0, 255, 0, 0.2);
      color: #00ff00;
      border: 2px solid #00ff00;
    }

    .message.error {
      background: rgba(255, 68, 68, 0.2);
      color: #ff4444;
      border: 2px solid #ff4444;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @media screen and (max-width: 768px) {
      .preview-section {
        grid-template-columns: 1fr;
      }

      .header h1 {
        font-size: 1.8em;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="back-links">
      <a href="/#/" class="back-link">â† è¿”å›ä¸»ç«™</a>
      <a href="index.html" class="back-link">â† è¿”å›å·¥å…·é›†</a>
    </div>
    
    <div class="header">
      <h1>ğŸ¨ é¢œè‰²è½¬æ¢å·¥å…·</h1>
      <p>RGBã€HEXã€HSLç­‰é¢œè‰²æ ¼å¼äº’è½¬ä¸é…è‰²æ–¹æ¡ˆç”Ÿæˆ</p>
    </div>

    <!-- é¢œè‰²è¾“å…¥åŒº -->
    <div class="color-input-section">
      <div class="input-grid">
        <!-- HEXè¾“å…¥ -->
        <div class="input-group">
          <label class="input-label">ğŸ¯ HEX é¢œè‰²å€¼</label>
          <input type="text" id="hexInput" class="color-input" placeholder="#RRGGBB" value="#d4af37" maxlength="7">
          <input type="color" id="colorPicker" value="#d4af37" style="width: 100%; height: 50px; margin-top: 10px; border: 2px solid #b8960f; border-radius: 8px; cursor: pointer;">
        </div>

        <!-- RGBæ»‘å— -->
        <div class="input-group">
          <label class="input-label">ğŸ”´ RGB é¢œè‰²å€¼</label>
          <div class="slider-group">
            <div class="slider-container">
              <span class="slider-label">R:</span>
              <input type="range" id="rSlider" class="slider" min="0" max="255" value="212">
              <span class="slider-value" id="rValue">212</span>
            </div>
            <div class="slider-container">
              <span class="slider-label">G:</span>
              <input type="range" id="gSlider" class="slider" min="0" max="255" value="175">
              <span class="slider-value" id="gValue">175</span>
            </div>
            <div class="slider-container">
              <span class="slider-label">B:</span>
              <input type="range" id="bSlider" class="slider" min="0" max="255" value="55">
              <span class="slider-value" id="bValue">55</span>
            </div>
          </div>
        </div>

        <!-- HSLæ»‘å— -->
        <div class="input-group">
          <label class="input-label">ğŸŒˆ HSL é¢œè‰²å€¼</label>
          <div class="slider-group">
            <div class="slider-container">
              <span class="slider-label">H:</span>
              <input type="range" id="hSlider" class="slider" min="0" max="360" value="46">
              <span class="slider-value" id="hValue">46Â°</span>
            </div>
            <div class="slider-container">
              <span class="slider-label">S:</span>
              <input type="range" id="sSlider" class="slider" min="0" max="100" value="59">
              <span class="slider-value" id="sValue">59%</span>
            </div>
            <div class="slider-container">
              <span class="slider-label">L:</span>
              <input type="range" id="lSlider" class="slider" min="0" max="100" value="52">
              <span class="slider-value" id="lValue">52%</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- é¢œè‰²é¢„è§ˆ -->
    <div class="preview-section">
      <div class="preview-box">
        <div class="preview-title">ğŸ–¼ï¸ é¢œè‰²é¢„è§ˆ</div>
        <div id="colorPreview" class="color-preview"></div>
      </div>

      <div class="preview-box">
        <div class="preview-title">ğŸ“ æ–‡å­—å¯è¯»æ€§æµ‹è¯•</div>
        <div id="textPreviewBg" class="text-preview">
          <div id="textPreviewWhite" class="preview-text" style="color: white;">ç™½è‰²æ–‡å­—ç¤ºä¾‹</div>
          <div id="textPreviewBlack" class="preview-text" style="color: black;">é»‘è‰²æ–‡å­—ç¤ºä¾‹</div>
        </div>
      </div>
    </div>

    <!-- æ ¼å¼è¾“å‡º -->
    <div class="formats-section">
      <div class="preview-title" style="margin-bottom: 20px;">ğŸ“‹ é¢œè‰²æ ¼å¼è½¬æ¢</div>
      <div class="formats-grid" id="formatsGrid"></div>
    </div>

    <!-- é…è‰²æ–¹æ¡ˆ -->
    <div class="palette-section">
      <div class="preview-title" style="margin-bottom: 20px;">ğŸ¨ é…è‰²æ–¹æ¡ˆå»ºè®®</div>
      <div class="palette-grid" id="paletteGrid"></div>
    </div>
  </div>

  <script>
    let isUpdating = false;

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      // HEXè¾“å…¥
      document.getElementById('hexInput').addEventListener('input', updateFromHex);
      document.getElementById('colorPicker').addEventListener('input', updateFromPicker);
      
      // RGBæ»‘å—
      ['rSlider', 'gSlider', 'bSlider'].forEach(id => {
        document.getElementById(id).addEventListener('input', updateFromRGB);
      });
      
      // HSLæ»‘å—
      ['hSlider', 'sSlider', 'lSlider'].forEach(id => {
        document.getElementById(id).addEventListener('input', updateFromHSL);
      });

      // åˆå§‹æ›´æ–°
      updateFromHex();
    });

    // ä»HEXæ›´æ–°
    function updateFromHex() {
      if (isUpdating) return;
      isUpdating = true;

      let hex = document.getElementById('hexInput').value.trim();
      if (!hex.startsWith('#')) hex = '#' + hex;
      
      if (/^#[0-9A-F]{6}$/i.test(hex)) {
        const rgb = hexToRgb(hex);
        updateAll(rgb);
      }
      
      isUpdating = false;
    }

    // ä»æ‹¾è‰²å™¨æ›´æ–°
    function updateFromPicker() {
      if (isUpdating) return;
      isUpdating = true;

      const hex = document.getElementById('colorPicker').value;
      document.getElementById('hexInput').value = hex;
      const rgb = hexToRgb(hex);
      updateAll(rgb);
      
      isUpdating = false;
    }

    // ä»RGBæ›´æ–°
    function updateFromRGB() {
      if (isUpdating) return;
      isUpdating = true;

      const r = parseInt(document.getElementById('rSlider').value);
      const g = parseInt(document.getElementById('gSlider').value);
      const b = parseInt(document.getElementById('bSlider').value);
      
      updateAll({ r, g, b });
      
      isUpdating = false;
    }

    // ä»HSLæ›´æ–°
    function updateFromHSL() {
      if (isUpdating) return;
      isUpdating = true;

      const h = parseInt(document.getElementById('hSlider').value);
      const s = parseInt(document.getElementById('sSlider').value);
      const l = parseInt(document.getElementById('lSlider').value);
      
      const rgb = hslToRgb(h, s, l);
      updateAll(rgb);
      
      isUpdating = false;
    }

    // æ›´æ–°æ‰€æœ‰æ˜¾ç¤º
    function updateAll(rgb) {
      // æ›´æ–°RGBæ»‘å—å’Œå€¼
      document.getElementById('rSlider').value = rgb.r;
      document.getElementById('gSlider').value = rgb.g;
      document.getElementById('bSlider').value = rgb.b;
      document.getElementById('rValue').textContent = rgb.r;
      document.getElementById('gValue').textContent = rgb.g;
      document.getElementById('bValue').textContent = rgb.b;

      // è½¬æ¢ä¸ºå…¶ä»–æ ¼å¼
      const hex = rgbToHex(rgb.r, rgb.g, rgb.b);
      const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);

      // æ›´æ–°HEX
      document.getElementById('hexInput').value = hex;
      document.getElementById('colorPicker').value = hex;

      // æ›´æ–°HSLæ»‘å—
      document.getElementById('hSlider').value = hsl.h;
      document.getElementById('sSlider').value = hsl.s;
      document.getElementById('lSlider').value = hsl.l;
      document.getElementById('hValue').textContent = hsl.h + 'Â°';
      document.getElementById('sValue').textContent = hsl.s + '%';
      document.getElementById('lValue').textContent = hsl.l + '%';

      // æ›´æ–°é¢„è§ˆ
      document.getElementById('colorPreview').style.backgroundColor = hex;
      document.getElementById('textPreviewBg').style.backgroundColor = hex;

      // æ›´æ–°æ ¼å¼è¾“å‡º
      updateFormats(rgb, hex, hsl);

      // æ›´æ–°é…è‰²æ–¹æ¡ˆ
      updatePalette(rgb);
    }

    // æ›´æ–°æ ¼å¼è¾“å‡º
    function updateFormats(rgb, hex, hsl) {
      const formats = [
        { name: 'HEX', value: hex },
        { name: 'RGB', value: `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})` },
        { name: 'RGBA', value: `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 1)` },
        { name: 'HSL', value: `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)` },
        { name: 'HSLA', value: `hsla(${hsl.h}, ${hsl.s}%, ${hsl.l}%, 1)` },
        { name: 'RGB Decimal', value: `${rgb.r} ${rgb.g} ${rgb.b}` },
      ];

      const grid = document.getElementById('formatsGrid');
      grid.innerHTML = formats.map((fmt, i) => `
        <div class="format-item">
          <div class="format-info">
            <div class="format-name">${fmt.name}</div>
            <div class="format-value">${fmt.value}</div>
          </div>
          <button class="copy-btn-small" onclick="copyFormat('${fmt.value.replace(/'/g, "\\'")}')">å¤åˆ¶</button>
        </div>
      `).join('');
    }

    // æ›´æ–°é…è‰²æ–¹æ¡ˆ
    function updatePalette(rgb) {
      const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
      
      // ç”Ÿæˆé…è‰²
      const colors = [
        { name: 'åŸè‰²', h: hsl.h, s: hsl.s, l: hsl.l },
        { name: 'äº’è¡¥è‰²', h: (hsl.h + 180) % 360, s: hsl.s, l: hsl.l },
        { name: 'ç±»ä¼¼è‰²1', h: (hsl.h + 30) % 360, s: hsl.s, l: hsl.l },
        { name: 'ç±»ä¼¼è‰²2', h: (hsl.h - 30 + 360) % 360, s: hsl.s, l: hsl.l },
        { name: 'ä¸‰è§’è‰²1', h: (hsl.h + 120) % 360, s: hsl.s, l: hsl.l },
        { name: 'ä¸‰è§’è‰²2', h: (hsl.h + 240) % 360, s: hsl.s, l: hsl.l },
        { name: 'æµ…è‰²', h: hsl.h, s: hsl.s, l: Math.min(hsl.l + 20, 90) },
        { name: 'æ·±è‰²', h: hsl.h, s: hsl.s, l: Math.max(hsl.l - 20, 10) },
      ];

      const grid = document.getElementById('paletteGrid');
      grid.innerHTML = colors.map(c => {
        const rgb = hslToRgb(c.h, c.s, c.l);
        const hex = rgbToHex(rgb.r, rgb.g, rgb.b);
        return `
          <div class="palette-item" onclick="applyColor('${hex}')">
            <div class="palette-color" style="background-color: ${hex};"></div>
            <div class="palette-label">${c.name}</div>
          </div>
        `;
      }).join('');
    }

    // åº”ç”¨é¢œè‰²
    function applyColor(hex) {
      document.getElementById('hexInput').value = hex;
      updateFromHex();
      showMessage('å·²åº”ç”¨è¯¥é¢œè‰²', 'success');
    }

    // å¤åˆ¶æ ¼å¼
    function copyFormat(text) {
      const temp = document.createElement('textarea');
      temp.value = text;
      document.body.appendChild(temp);
      temp.select();
      document.execCommand('copy');
      document.body.removeChild(temp);
      showMessage('âœ“ å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
    }

    // é¢œè‰²è½¬æ¢å‡½æ•°
    function hexToRgb(hex) {
      const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
      return result ? {
        r: parseInt(result[1], 16),
        g: parseInt(result[2], 16),
        b: parseInt(result[3], 16)
      } : { r: 0, g: 0, b: 0 };
    }

    function rgbToHex(r, g, b) {
      return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
    }

    function rgbToHsl(r, g, b) {
      r /= 255; g /= 255; b /= 255;
      const max = Math.max(r, g, b), min = Math.min(r, g, b);
      let h, s, l = (max + min) / 2;

      if (max === min) {
        h = s = 0;
      } else {
        const d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch (max) {
          case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
          case g: h = ((b - r) / d + 2) / 6; break;
          case b: h = ((r - g) / d + 4) / 6; break;
        }
      }

      return {
        h: Math.round(h * 360),
        s: Math.round(s * 100),
        l: Math.round(l * 100)
      };
    }

    function hslToRgb(h, s, l) {
      h /= 360; s /= 100; l /= 100;
      let r, g, b;

      if (s === 0) {
        r = g = b = l;
      } else {
        const hue2rgb = (p, q, t) => {
          if (t < 0) t += 1;
          if (t > 1) t -= 1;
          if (t < 1/6) return p + (q - p) * 6 * t;
          if (t < 1/2) return q;
          if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
          return p;
        };

        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        const p = 2 * l - q;
        r = hue2rgb(p, q, h + 1/3);
        g = hue2rgb(p, q, h);
        b = hue2rgb(p, q, h - 1/3);
      }

      return {
        r: Math.round(r * 255),
        g: Math.round(g * 255),
        b: Math.round(b * 255)
      };
    }

    // æ˜¾ç¤ºæ¶ˆæ¯
    function showMessage(message, type) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${type}`;
      messageDiv.textContent = message;
      document.body.appendChild(messageDiv);
      
      setTimeout(() => {
        messageDiv.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => document.body.removeChild(messageDiv), 300);
      }, 2000);
    }
  </script>
</body>
</html>
