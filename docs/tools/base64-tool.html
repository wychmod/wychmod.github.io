<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Base64ç¼–è§£ç å·¥å…· - AIæ™ºèƒ½æŠ€æœ¯çŸ¥è¯†å¹³å°</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #2d1f0c 100%);
      color: #e0e0e0;
      padding: 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      padding: 30px 0;
      margin-bottom: 30px;
      border-bottom: 2px solid #d4af37;
    }

    .header h1 {
      color: #f4d03f;
      font-size: 2.5em;
      margin-bottom: 10px;
    }

    .header p {
      color: #c5c5c5;
      font-size: 1.1em;
    }

    .back-links {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .back-link {
      display: inline-block;
      color: #d4af37;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s;
    }

    .back-link:hover {
      color: #f4d03f;
    }

    /* æ¨¡å¼é€‰æ‹©åŒº */
    .mode-selector {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .mode-btn {
      background: rgba(212, 175, 55, 0.2);
      color: #d4af37;
      border: 2px solid #b8960f;
      padding: 12px 30px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .mode-btn:hover {
      background: rgba(212, 175, 55, 0.3);
      border-color: #d4af37;
    }

    .mode-btn.active {
      background: linear-gradient(135deg, #d4af37, #f4d03f);
      color: #000;
      border-color: #f4d03f;
      box-shadow: 0 2px 15px rgba(212, 175, 55, 0.5);
    }

    /* è½¬æ¢å·¥å…·åŒº */
    .converter-section {
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      border: 2px solid #d4af37;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
    }

    .converter-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .input-area, .output-area {
      display: flex;
      flex-direction: column;
    }

    .area-label {
      color: #f4d03f;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    textarea {
      width: 100%;
      height: 200px;
      background: #0a0a0a;
      border: 2px solid #b8960f;
      border-radius: 8px;
      padding: 15px;
      color: #e0e0e0;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 13px;
      resize: vertical;
      transition: all 0.3s;
    }

    textarea:focus {
      outline: none;
      border-color: #d4af37;
      box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
    }

    textarea:read-only {
      background: #060606;
      opacity: 0.9;
    }

    .file-upload-area {
      background: #0a0a0a;
      border: 2px dashed #b8960f;
      border-radius: 8px;
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .file-upload-area:hover {
      border-color: #d4af37;
      background: #0f0f0f;
    }

    .file-upload-area.drag-over {
      border-color: #f4d03f;
      background: rgba(212, 175, 55, 0.1);
    }

    .file-upload-icon {
      font-size: 48px;
      margin-bottom: 15px;
    }

    .file-upload-text {
      color: #d4af37;
      font-size: 14px;
      margin-bottom: 10px;
    }

    .file-upload-hint {
      color: #888;
      font-size: 12px;
    }

    input[type="file"] {
      display: none;
    }

    .file-info {
      background: rgba(212, 175, 55, 0.1);
      border: 1px solid #b8960f;
      border-radius: 6px;
      padding: 10px;
      margin-top: 10px;
      font-size: 13px;
      color: #c5c5c5;
    }

    .preview-area {
      background: #0a0a0a;
      border: 2px solid #b8960f;
      border-radius: 8px;
      padding: 15px;
      min-height: 200px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: auto;
    }

    .preview-area img {
      max-width: 100%;
      max-height: 300px;
      border-radius: 4px;
    }

    .preview-placeholder {
      color: #666;
      text-align: center;
    }

    .buttons-row {
      display: flex;
      gap: 10px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    button {
      background: linear-gradient(135deg, #d4af37, #f4d03f);
      color: #000;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 2px 8px rgba(212, 175, 55, 0.4);
      flex: 1;
      min-width: 120px;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(212, 175, 55, 0.6);
    }

    button:active {
      transform: translateY(0);
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .secondary-btn {
      background: rgba(212, 175, 55, 0.3);
      color: #f4d03f;
      border: 1px solid #d4af37;
    }

    .secondary-btn:hover {
      background: rgba(212, 175, 55, 0.5);
    }

    /* è¯´æ˜æ–‡æ¡£åŒº */
    .docs-section {
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      border: 2px solid #d4af37;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
    }

    .docs-section h2 {
      color: #f4d03f;
      margin-bottom: 20px;
      font-size: 1.8em;
      border-bottom: 2px solid #d4af37;
      padding-bottom: 10px;
    }

    .docs-section h3 {
      color: #d4af37;
      margin-top: 25px;
      margin-bottom: 15px;
      font-size: 1.3em;
    }

    .docs-section p {
      color: #c5c5c5;
      line-height: 1.8;
      margin-bottom: 15px;
    }

    .docs-section ul {
      color: #c5c5c5;
      line-height: 1.8;
      margin-left: 25px;
      margin-bottom: 15px;
    }

    .docs-section li {
      margin-bottom: 8px;
    }

    .code-block {
      background: #0a0a0a;
      border: 1px solid #b8960f;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      overflow-x: auto;
    }

    .code-block pre {
      color: #e0e0e0;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 13px;
      line-height: 1.6;
      margin: 0;
      white-space: pre;
      word-wrap: normal;
      overflow-x: auto;
    }

    .code-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 10px;
    }

    .code-lang {
      color: #d4af37;
      font-weight: 600;
      font-size: 14px;
    }

    .copy-code-btn {
      background: rgba(212, 175, 55, 0.3);
      color: #f4d03f;
      border: 1px solid #d4af37;
      padding: 6px 12px;
      font-size: 12px;
      cursor: pointer;
      border-radius: 4px;
      width: auto;
      min-width: 60px;
      max-width: 80px;
      transition: all 0.3s;
      white-space: nowrap;
      flex: none;
    }

    .copy-code-btn:hover {
      background: rgba(212, 175, 55, 0.5);
      border-color: #f4d03f;
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(212, 175, 55, 0.4);
    }

    .tip-box {
      background: rgba(244, 208, 63, 0.15);
      border: 2px solid #f4d03f;
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
    }

    .tip-box strong {
      color: #f4d03f;
    }

    .warning-box {
      background: rgba(255, 140, 0, 0.1);
      border: 2px solid #ff8c00;
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
    }

    .warning-box strong {
      color: #ff8c00;
    }

    .message {
      position: fixed;
      top: 100px;
      right: 30px;
      padding: 15px 25px;
      border-radius: 8px;
      font-weight: 600;
      z-index: 10000;
      animation: slideIn 0.3s ease;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .message.success {
      background: rgba(0, 255, 0, 0.2);
      color: #00ff00;
      border: 2px solid #00ff00;
    }

    .message.error {
      background: rgba(255, 68, 68, 0.2);
      color: #ff4444;
      border: 2px solid #ff4444;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @media screen and (max-width: 768px) {
      .header h1 {
        font-size: 1.8em;
      }

      .converter-grid {
        grid-template-columns: 1fr;
      }

      .buttons-row {
        flex-direction: column;
      }

      button {
        width: 100%;
      }

      .code-block {
        padding: 10px;
      }

      .code-block pre {
        font-size: 12px;
      }

      .copy-code-btn {
        font-size: 11px;
        padding: 4px 8px;
        min-width: 50px;
      }
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="back-links">
      <a href="/#/" class="back-link">â† è¿”å›ä¸»ç«™</a>
      <a href="index.html" class="back-link">â† è¿”å›å·¥å…·é›†</a>
    </div>
    
    <div class="header">
      <h1>ğŸ” Base64 ç¼–è§£ç å·¥å…·</h1>
      <p>æ”¯æŒæ–‡æœ¬å’Œå›¾ç‰‡çš„Base64ç¼–ç ä¸è§£ç </p>
    </div>

    <!-- æ¨¡å¼é€‰æ‹© -->
    <div class="mode-selector">
      <button class="mode-btn active" onclick="switchMode('text')">ğŸ“ æ–‡æœ¬æ¨¡å¼</button>
      <button class="mode-btn" onclick="switchMode('image')">ğŸ–¼ï¸ å›¾ç‰‡æ¨¡å¼</button>
    </div>

    <!-- æ–‡æœ¬æ¨¡å¼ -->
    <div id="textMode" class="converter-section">
      <div class="converter-grid">
        <!-- è¾“å…¥åŒºåŸŸ -->
        <div class="input-area">
          <div class="area-label">
            <span>âœï¸ è¾“å…¥å†…å®¹</span>
            <span style="font-size: 12px; color: #888;">å­—ç¬¦æ•°: <span id="inputCharCount">0</span></span>
          </div>
          <textarea id="textInput" placeholder="è¯·è¾“å…¥éœ€è¦ç¼–ç çš„æ–‡æœ¬æˆ–Base64ç¼–ç ..."></textarea>
        </div>

        <!-- è¾“å‡ºåŒºåŸŸ -->
        <div class="output-area">
          <div class="area-label">
            <span>ğŸ“‹ è½¬æ¢ç»“æœ</span>
            <span style="font-size: 12px; color: #888;">å­—ç¬¦æ•°: <span id="outputCharCount">0</span></span>
          </div>
          <textarea id="textOutput" readonly placeholder="è½¬æ¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
        </div>
      </div>

      <div class="buttons-row">
        <button onclick="encodeText()">ğŸ”’ Base64 ç¼–ç </button>
        <button onclick="decodeText()">ğŸ”“ Base64 è§£ç </button>
        <button class="secondary-btn" onclick="copyOutput()">ğŸ“‹ å¤åˆ¶ç»“æœ</button>
        <button class="secondary-btn" onclick="clearText()">ğŸ—‘ï¸ æ¸…ç©º</button>
      </div>
    </div>

    <!-- å›¾ç‰‡æ¨¡å¼ -->
    <div id="imageMode" class="converter-section hidden">
      <div class="converter-grid">
        <!-- å›¾ç‰‡ä¸Šä¼ åŒºåŸŸ -->
        <div class="input-area">
          <div class="area-label">ğŸ“¤ ä¸Šä¼ å›¾ç‰‡</div>
          <div class="file-upload-area" id="fileUploadArea" onclick="document.getElementById('fileInput').click()">
            <div class="file-upload-icon">ğŸ–¼ï¸</div>
            <div class="file-upload-text">ç‚¹å‡»é€‰æ‹©å›¾ç‰‡æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°æ­¤å¤„</div>
            <div class="file-upload-hint">æ”¯æŒ JPGã€PNGã€GIFã€WEBP ç­‰æ ¼å¼ï¼Œå»ºè®®å°äº 5MB</div>
          </div>
          <input type="file" id="fileInput" accept="image/*" onchange="handleFileSelect(event)">
          <div id="fileInfo" class="file-info hidden"></div>
        </div>

        <!-- Base64è¾“å…¥/é¢„è§ˆåŒºåŸŸ -->
        <div class="output-area">
          <div class="area-label">
            <span id="rightAreaLabel">ğŸ” å›¾ç‰‡é¢„è§ˆ</span>
          </div>
          <div id="imagePreview" class="preview-area">
            <div class="preview-placeholder">ä¸Šä¼ å›¾ç‰‡åå°†åœ¨æ­¤æ˜¾ç¤ºé¢„è§ˆ</div>
          </div>
          <textarea id="base64Input" class="hidden" placeholder="ç²˜è´´Base64å­—ç¬¦ä¸²å¹¶ç‚¹å‡»è§£ç ..."></textarea>
        </div>
      </div>

      <div class="buttons-row">
        <button onclick="encodeImage()">ğŸ”’ è½¬æ¢ä¸º Base64</button>
        <button onclick="switchToDecodeMode()">ğŸ”“ è§£ç  Base64</button>
        <button class="secondary-btn" onclick="copyImageBase64()">ğŸ“‹ å¤åˆ¶ Base64</button>
        <button class="secondary-btn" onclick="downloadImage()">ğŸ’¾ ä¸‹è½½å›¾ç‰‡</button>
        <button class="secondary-btn" onclick="clearImage()">ğŸ—‘ï¸ æ¸…ç©º</button>
      </div>
    </div>

    <!-- è¯´æ˜æ–‡æ¡£åŒº -->
    <div class="docs-section">
      <h2>ğŸ“– Base64 ä½¿ç”¨æŒ‡å—</h2>

      <h3>ğŸ’¡ ä»€ä¹ˆæ˜¯ Base64ï¼Ÿ</h3>
      <p>
        Base64 æ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„ç¼–ç æ–¹å¼ã€‚å®ƒå°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºASCIIå­—ç¬¦ä¸²æ ¼å¼ï¼Œ
        ä½¿å¾—äºŒè¿›åˆ¶æ•°æ®å¯ä»¥åœ¨åªæ”¯æŒæ–‡æœ¬çš„ç¯å¢ƒä¸­ä¼ è¾“å’Œå­˜å‚¨ã€‚Base64ç¼–ç ä½¿ç”¨å­—æ¯ A-Zã€a-zã€æ•°å­— 0-9ã€ç¬¦å· + å’Œ /ï¼Œ
        å…±64ä¸ªå­—ç¬¦ï¼Œä»¥åŠ = ä½œä¸ºå¡«å……å­—ç¬¦ã€‚
      </p>

      <div class="tip-box">
        <strong>ğŸ¯ ç¼–ç åŸç†ï¼š</strong><br/>
        â€¢ å°†æ¯3ä¸ªå­—èŠ‚ï¼ˆ24ä½ï¼‰çš„äºŒè¿›åˆ¶æ•°æ®åˆ†æˆ4ç»„ï¼Œæ¯ç»„6ä½<br/>
        â€¢ æ¯ç»„6ä½å¯¹åº”ä¸€ä¸ªBase64å­—ç¬¦ï¼ˆ2^6 = 64ç§å¯èƒ½ï¼‰<br/>
        â€¢ ç¼–ç åçš„æ•°æ®å¤§å°çº¦ä¸ºåŸæ•°æ®çš„ 4/3 å€<br/>
        â€¢ ä¸è¶³3å­—èŠ‚æ—¶ä½¿ç”¨ = è¿›è¡Œå¡«å……
      </div>

      <h3>ğŸ”§ ä½¿ç”¨åœºæ™¯</h3>
      <ul>
        <li><strong>å›¾ç‰‡åµŒå…¥</strong>ï¼šåœ¨HTML/CSSä¸­ç›´æ¥åµŒå…¥å°å›¾ç‰‡ï¼Œå‡å°‘HTTPè¯·æ±‚</li>
        <li><strong>æ•°æ®ä¼ è¾“</strong>ï¼šåœ¨JSONã€XMLç­‰æ–‡æœ¬æ ¼å¼ä¸­ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®</li>
        <li><strong>é‚®ä»¶é™„ä»¶</strong>ï¼šMIMEåè®®ä½¿ç”¨Base64ç¼–ç é‚®ä»¶é™„ä»¶</li>
        <li><strong>URLå®‰å…¨</strong>ï¼šå°†äºŒè¿›åˆ¶æ•°æ®ç¼–ç åå®‰å…¨åœ°æ”¾å…¥URLå‚æ•°ä¸­</li>
        <li><strong>æ•°æ®å­˜å‚¨</strong>ï¼šåœ¨æ–‡æœ¬æ•°æ®åº“æˆ–é…ç½®æ–‡ä»¶ä¸­å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®</li>
        <li><strong>APIä¼ è¾“</strong>ï¼šåœ¨RESTful APIä¸­ä¼ è¾“å›¾ç‰‡ç­‰äºŒè¿›åˆ¶æ•°æ®</li>
        <li><strong>æ•°æ®åŠ å¯†</strong>ï¼šé…åˆåŠ å¯†ç®—æ³•ï¼Œå¯¹åŠ å¯†åçš„äºŒè¿›åˆ¶ç»“æœè¿›è¡Œç¼–ç </li>
      </ul>

      <h3>ğŸ’» ç¼–ç¨‹è¯­è¨€ç¤ºä¾‹</h3>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">JavaScript / Node.js</span>
          <button class="copy-code-btn" onclick="copyCode(this, 'js-code')">å¤åˆ¶</button>
        </div>
        <pre id="js-code">// æ–‡æœ¬ç¼–ç 
const text = "Hello, Base64!";
const encoded = btoa(unescape(encodeURIComponent(text)));
console.log(encoded); // SGVsbG8sIEJhc2U2NCE=

// æ–‡æœ¬è§£ç 
const decoded = decodeURIComponent(escape(atob(encoded)));
console.log(decoded); // Hello, Base64!

// å›¾ç‰‡ç¼–ç ï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰
const fileInput = document.querySelector('input[type="file"]');
fileInput.addEventListener('change', (e) => {
  const file = e.target.files[0];
  const reader = new FileReader();
  reader.onload = (event) => {
    const base64 = event.target.result;
    console.log(base64); // data:image/png;base64,iVBORw0KG...
  };
  reader.readAsDataURL(file);
});

// Node.js ä¸­çš„ Base64
const buffer = Buffer.from("Hello, Base64!", 'utf-8');
const base64 = buffer.toString('base64');
console.log(base64); // SGVsbG8sIEJhc2U2NCE=

const decoded = Buffer.from(base64, 'base64').toString('utf-8');
console.log(decoded); // Hello, Base64!</pre>
      </div>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Python</span>
          <button class="copy-code-btn" onclick="copyCode(this, 'py-code')">å¤åˆ¶</button>
        </div>
        <pre id="py-code">import base64

# æ–‡æœ¬ç¼–ç 
text = "Hello, Base64!"
encoded = base64.b64encode(text.encode('utf-8'))
print(encoded)  # b'SGVsbG8sIEJhc2U2NCE='

# æ–‡æœ¬è§£ç 
decoded = base64.b64decode(encoded).decode('utf-8')
print(decoded)  # Hello, Base64!

# å›¾ç‰‡ç¼–ç 
with open('image.png', 'rb') as f:
    image_data = f.read()
    encoded_image = base64.b64encode(image_data)
    print(encoded_image.decode('utf-8'))

# å›¾ç‰‡è§£ç 
with open('decoded_image.png', 'wb') as f:
    decoded_image = base64.b64decode(encoded_image)
    f.write(decoded_image)

# URLå®‰å…¨çš„Base64ç¼–ç ï¼ˆä½¿ç”¨ - å’Œ _ æ›¿ä»£ + å’Œ /ï¼‰
url_safe_encoded = base64.urlsafe_b64encode(text.encode('utf-8'))
print(url_safe_encoded)  # b'SGVsbG8sIEJhc2U2NCE='</pre>
      </div>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Java</span>
          <button class="copy-code-btn" onclick="copyCode(this, 'java-code')">å¤åˆ¶</button>
        </div>
        <pre id="java-code">import java.util.Base64;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.nio.file.Paths;

public class Base64Example {
    public static void main(String[] args) throws Exception {
        // æ–‡æœ¬ç¼–ç 
        String text = "Hello, Base64!";
        String encoded = Base64.getEncoder()
            .encodeToString(text.getBytes(StandardCharsets.UTF_8));
        System.out.println(encoded); // SGVsbG8sIEJhc2U2NCE=

        // æ–‡æœ¬è§£ç 
        byte[] decoded = Base64.getDecoder().decode(encoded);
        String decodedText = new String(decoded, StandardCharsets.UTF_8);
        System.out.println(decodedText); // Hello, Base64!

        // å›¾ç‰‡ç¼–ç 
        byte[] imageBytes = Files.readAllBytes(Paths.get("image.png"));
        String encodedImage = Base64.getEncoder().encodeToString(imageBytes);
        System.out.println(encodedImage);

        // å›¾ç‰‡è§£ç 
        byte[] decodedImage = Base64.getDecoder().decode(encodedImage);
        Files.write(Paths.get("decoded_image.png"), decodedImage);

        // URLå®‰å…¨çš„Base64ç¼–ç 
        String urlSafeEncoded = Base64.getUrlEncoder()
            .encodeToString(text.getBytes(StandardCharsets.UTF_8));
        System.out.println(urlSafeEncoded);
    }
}</pre>
      </div>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">Go</span>
          <button class="copy-code-btn" onclick="copyCode(this, 'go-code')">å¤åˆ¶</button>
        </div>
        <pre id="go-code">package main

import (
    "encoding/base64"
    "fmt"
    "os"
)

func main() {
    // æ–‡æœ¬ç¼–ç 
    text := "Hello, Base64!"
    encoded := base64.StdEncoding.EncodeToString([]byte(text))
    fmt.Println(encoded) // SGVsbG8sIEJhc2U2NCE=

    // æ–‡æœ¬è§£ç 
    decoded, err := base64.StdEncoding.DecodeString(encoded)
    if err != nil {
        panic(err)
    }
    fmt.Println(string(decoded)) // Hello, Base64!

    // å›¾ç‰‡ç¼–ç 
    imageData, _ := os.ReadFile("image.png")
    encodedImage := base64.StdEncoding.EncodeToString(imageData)
    fmt.Println(encodedImage)

    // å›¾ç‰‡è§£ç 
    decodedImage, _ := base64.StdEncoding.DecodeString(encodedImage)
    os.WriteFile("decoded_image.png", decodedImage, 0644)

    // URLå®‰å…¨çš„Base64ç¼–ç 
    urlSafeEncoded := base64.URLEncoding.EncodeToString([]byte(text))
    fmt.Println(urlSafeEncoded)
}</pre>
      </div>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">PHP</span>
          <button class="copy-code-btn" onclick="copyCode(this, 'php-code')">å¤åˆ¶</button>
        </div>
        <pre id="php-code">&lt;?php
// æ–‡æœ¬ç¼–ç 
$text = "Hello, Base64!";
$encoded = base64_encode($text);
echo $encoded; // SGVsbG8sIEJhc2U2NCE=

// æ–‡æœ¬è§£ç 
$decoded = base64_decode($encoded);
echo $decoded; // Hello, Base64!

// å›¾ç‰‡ç¼–ç 
$imageData = file_get_contents('image.png');
$encodedImage = base64_encode($imageData);
echo $encodedImage;

// å›¾ç‰‡è§£ç 
$decodedImage = base64_decode($encodedImage);
file_put_contents('decoded_image.png', $decodedImage);

// HTMLä¸­åµŒå…¥Base64å›¾ç‰‡
$mimeType = 'image/png';
$dataUri = "data:$mimeType;base64,$encodedImage";
echo "&lt;img src='$dataUri' /&gt;";

// æ£€æŸ¥æ˜¯å¦ä¸ºæœ‰æ•ˆçš„Base64å­—ç¬¦ä¸²
function isBase64($string) {
    return (bool) preg_match('/^[a-zA-Z0-9\/\r\n+]*={0,2}$/', $string);
}
?&gt;</pre>
      </div>

      <h3>âš ï¸ æ³¨æ„äº‹é¡¹</h3>
      <ul>
        <li><strong>æ•°æ®è†¨èƒ€</strong>ï¼šBase64ç¼–ç ä¼šä½¿æ•°æ®é‡å¢åŠ çº¦33%ï¼Œä¸é€‚åˆå¤§æ–‡ä»¶ä¼ è¾“</li>
        <li><strong>ä¸æ˜¯åŠ å¯†</strong>ï¼šBase64æ˜¯ç¼–ç æ–¹å¼ï¼Œä¸æ˜¯åŠ å¯†ç®—æ³•ï¼Œä»»ä½•äººéƒ½å¯ä»¥è§£ç </li>
        <li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šç¼–è§£ç éœ€è¦è®¡ç®—èµ„æºï¼Œå¤§é‡æ•°æ®å¤„ç†æ—¶æ³¨æ„æ€§èƒ½å½±å“</li>
        <li><strong>ä¸­æ–‡å¤„ç†</strong>ï¼šç¼–ç ä¸­æ–‡å‰éœ€è¦å…ˆè¿›è¡ŒUTF-8ç¼–ç ï¼Œé¿å…ä¹±ç </li>
        <li><strong>æ¢è¡Œç¬¦</strong>ï¼šæŸäº›å®ç°ä¼šåœ¨å›ºå®šé•¿åº¦å¤„æ’å…¥æ¢è¡Œç¬¦ï¼Œè§£ç å‰éœ€è¦ç§»é™¤</li>
        <li><strong>URLä¼ è¾“</strong>ï¼šæ ‡å‡†Base64ä¸­çš„+å’Œ/åœ¨URLä¸­æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œéœ€ä½¿ç”¨URLå®‰å…¨ç‰ˆæœ¬</li>
      </ul>

      <div class="warning-box">
        <strong>âš ï¸ å®‰å…¨è­¦å‘Šï¼š</strong><br/>
        Base64åªæ˜¯ç¼–ç æ–¹å¼ï¼Œä¸æä¾›ä»»ä½•å®‰å…¨ä¿æŠ¤ã€‚å¦‚æœéœ€è¦ä¿æŠ¤æ•æ„Ÿæ•°æ®ï¼Œè¯·ä½¿ç”¨ä¸“ä¸šçš„åŠ å¯†ç®—æ³•ï¼ˆå¦‚AESã€RSAç­‰ï¼‰ï¼Œ
        ç„¶åå†å¯¹åŠ å¯†ç»“æœè¿›è¡ŒBase64ç¼–ç ä»¥ä¾¿ä¼ è¾“ã€‚
      </div>

      <h3>ğŸ“ æ‰©å±•çŸ¥è¯†</h3>
      <p><strong>Base64å˜ä½“ï¼š</strong></p>
      <ul>
        <li><strong>æ ‡å‡†Base64</strong>ï¼šä½¿ç”¨ A-Zã€a-zã€0-9ã€+ã€/ å’Œ = å¡«å……</li>
        <li><strong>URLå®‰å…¨Base64</strong>ï¼šä½¿ç”¨ - å’Œ _ æ›¿ä»£ + å’Œ /ï¼Œé¿å…URLç¼–ç é—®é¢˜</li>
        <li><strong>æ— å¡«å……Base64</strong>ï¼šçœç•¥æœ«å°¾çš„ = å¡«å……å­—ç¬¦ï¼Œå‡å°‘æ•°æ®é•¿åº¦</li>
        <li><strong>Base64URL</strong>ï¼šä¸“é—¨ä¸ºURLè®¾è®¡çš„å˜ä½“ï¼Œå¹¿æ³›ç”¨äºJWTç­‰åœºæ™¯</li>
      </ul>

      <p><strong>HTMLä¸­ä½¿ç”¨Data URIï¼š</strong></p>
      <p>
        Data URIå…è®¸åœ¨HTMLä¸­ç›´æ¥åµŒå…¥Base64ç¼–ç çš„å›¾ç‰‡ï¼Œæ ¼å¼ä¸ºï¼š
        <code style="color: #d4af37;">data:[&lt;mediatype&gt;][;base64],&lt;data&gt;</code>
      </p>
      <p>
        ä¾‹å¦‚ï¼š<code style="color: #d4af37;">data:image/png;base64,iVBORw0KG...</code>
      </p>
      <p>
        <strong>ä¼˜ç‚¹ï¼š</strong>å‡å°‘HTTPè¯·æ±‚ï¼Œé€‚åˆå°å›¾ç‰‡ï¼›<br/>
        <strong>ç¼ºç‚¹ï¼š</strong>å¢åŠ HTMLæ–‡ä»¶å¤§å°ï¼Œä¸åˆ©äºç¼“å­˜ï¼Œä¸é€‚åˆå¤§å›¾ç‰‡ã€‚
      </p>
    </div>
  </div>

  <script>
    let currentMode = 'text';
    let currentImageData = null;
    let isDecodeMode = false;

    // åˆå§‹åŒ–
    document.getElementById('textInput').addEventListener('input', updateCharCount);

    // åˆ‡æ¢æ¨¡å¼
    function switchMode(mode) {
      currentMode = mode;
      
      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      document.querySelectorAll('.mode-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');

      // åˆ‡æ¢æ˜¾ç¤ºåŒºåŸŸ
      if (mode === 'text') {
        document.getElementById('textMode').classList.remove('hidden');
        document.getElementById('imageMode').classList.add('hidden');
      } else {
        document.getElementById('textMode').classList.add('hidden');
        document.getElementById('imageMode').classList.remove('hidden');
        isDecodeMode = false;
        updateImageModeUI();
      }
    }

    // æ›´æ–°å­—ç¬¦è®¡æ•°
    function updateCharCount() {
      const input = document.getElementById('textInput').value;
      const output = document.getElementById('textOutput').value;
      document.getElementById('inputCharCount').textContent = input.length;
      document.getElementById('outputCharCount').textContent = output.length;
    }

    // æ–‡æœ¬ç¼–ç 
    function encodeText() {
      const input = document.getElementById('textInput').value;
      const output = document.getElementById('textOutput');

      if (!input.trim()) {
        showMessage('è¯·è¾“å…¥è¦ç¼–ç çš„æ–‡æœ¬', 'error');
        return;
      }

      try {
        const encoded = btoa(unescape(encodeURIComponent(input)));
        output.value = encoded;
        updateCharCount();
        showMessage('âœ“ ç¼–ç æˆåŠŸ', 'success');
      } catch (e) {
        output.value = '';
        showMessage('âœ— ç¼–ç å¤±è´¥: ' + e.message, 'error');
      }
    }

    // æ–‡æœ¬è§£ç 
    function decodeText() {
      const input = document.getElementById('textInput').value;
      const output = document.getElementById('textOutput');

      if (!input.trim()) {
        showMessage('è¯·è¾“å…¥è¦è§£ç çš„Base64å­—ç¬¦ä¸²', 'error');
        return;
      }

      try {
        const decoded = decodeURIComponent(escape(atob(input.trim())));
        output.value = decoded;
        updateCharCount();
        showMessage('âœ“ è§£ç æˆåŠŸ', 'success');
      } catch (e) {
        output.value = '';
        showMessage('âœ— è§£ç å¤±è´¥: æ— æ•ˆçš„Base64å­—ç¬¦ä¸²', 'error');
      }
    }

    // å¤åˆ¶ç»“æœ
    function copyOutput() {
      const output = document.getElementById('textOutput');
      
      if (!output.value) {
        showMessage('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹', 'error');
        return;
      }

      output.select();
      document.execCommand('copy');
      showMessage('âœ“ å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
    }

    // æ¸…ç©ºæ–‡æœ¬
    function clearText() {
      document.getElementById('textInput').value = '';
      document.getElementById('textOutput').value = '';
      updateCharCount();
      showMessage('âœ“ å·²æ¸…ç©º', 'success');
    }

    // æ–‡ä»¶æ‹–æ‹½
    const fileUploadArea = document.getElementById('fileUploadArea');
    
    fileUploadArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      fileUploadArea.classList.add('drag-over');
    });

    fileUploadArea.addEventListener('dragleave', () => {
      fileUploadArea.classList.remove('drag-over');
    });

    fileUploadArea.addEventListener('drop', (e) => {
      e.preventDefault();
      fileUploadArea.classList.remove('drag-over');
      
      const files = e.dataTransfer.files;
      if (files.length > 0) {
        handleFile(files[0]);
      }
    });

    // å¤„ç†æ–‡ä»¶é€‰æ‹©
    function handleFileSelect(event) {
      const file = event.target.files[0];
      if (file) {
        handleFile(file);
      }
    }

    // å¤„ç†æ–‡ä»¶
    function handleFile(file) {
      // æ£€æŸ¥æ–‡ä»¶ç±»å‹
      if (!file.type.startsWith('image/')) {
        showMessage('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶', 'error');
        return;
      }

      // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆ5MBé™åˆ¶ï¼‰
      const maxSize = 5 * 1024 * 1024;
      if (file.size > maxSize) {
        showMessage('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 5MB', 'error');
        return;
      }

      // æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯
      const fileInfo = document.getElementById('fileInfo');
      fileInfo.classList.remove('hidden');
      fileInfo.innerHTML = `
        ğŸ“„ æ–‡ä»¶å: ${file.name}<br/>
        ğŸ“¦ å¤§å°: ${(file.size / 1024).toFixed(2)} KB<br/>
        ğŸ¨ ç±»å‹: ${file.type}
      `;

      // è¯»å–æ–‡ä»¶
      const reader = new FileReader();
      reader.onload = function(e) {
        currentImageData = e.target.result;
        
        // æ˜¾ç¤ºé¢„è§ˆ
        const preview = document.getElementById('imagePreview');
        preview.innerHTML = `<img src="${currentImageData}" alt="å›¾ç‰‡é¢„è§ˆ">`;
        
        showMessage('âœ“ å›¾ç‰‡åŠ è½½æˆåŠŸ', 'success');
      };
      reader.onerror = function() {
        showMessage('âœ— å›¾ç‰‡åŠ è½½å¤±è´¥', 'error');
      };
      reader.readAsDataURL(file);
    }

    // å›¾ç‰‡ç¼–ç 
    function encodeImage() {
      if (!currentImageData) {
        showMessage('è¯·å…ˆä¸Šä¼ å›¾ç‰‡', 'error');
        return;
      }

      showMessage('âœ“ Base64å·²ç”Ÿæˆï¼Œç‚¹å‡»"å¤åˆ¶Base64"æŒ‰é’®å¤åˆ¶', 'success');
    }

    // åˆ‡æ¢åˆ°è§£ç æ¨¡å¼
    function switchToDecodeMode() {
      isDecodeMode = !isDecodeMode;
      updateImageModeUI();
      
      if (isDecodeMode) {
        showMessage('è¯·ç²˜è´´Base64å­—ç¬¦ä¸²åˆ°æ–‡æœ¬æ¡†', 'success');
      } else {
        clearImage();
      }
    }

    // æ›´æ–°å›¾ç‰‡æ¨¡å¼UI
    function updateImageModeUI() {
      const preview = document.getElementById('imagePreview');
      const base64Input = document.getElementById('base64Input');
      const rightLabel = document.getElementById('rightAreaLabel');
      const uploadArea = document.getElementById('fileUploadArea');
      const fileInfo = document.getElementById('fileInfo');

      if (isDecodeMode) {
        preview.classList.add('hidden');
        base64Input.classList.remove('hidden');
        rightLabel.textContent = 'ğŸ“ Base64è¾“å…¥';
        uploadArea.style.display = 'none';
        fileInfo.classList.add('hidden');
        
        // ç›‘å¬Base64è¾“å…¥
        base64Input.oninput = decodeImageFromBase64;
      } else {
        preview.classList.remove('hidden');
        base64Input.classList.add('hidden');
        rightLabel.textContent = 'ğŸ” å›¾ç‰‡é¢„è§ˆ';
        uploadArea.style.display = 'flex';
        
        if (!currentImageData) {
          preview.innerHTML = '<div class="preview-placeholder">ä¸Šä¼ å›¾ç‰‡åå°†åœ¨æ­¤æ˜¾ç¤ºé¢„è§ˆ</div>';
        }
      }
    }

    // ä»Base64è§£ç å›¾ç‰‡
    function decodeImageFromBase64() {
      const base64Input = document.getElementById('base64Input');
      let base64 = base64Input.value.trim();

      if (!base64) {
        currentImageData = null;
        return;
      }

      // å¦‚æœä¸æ˜¯Data URIæ ¼å¼ï¼Œå°è¯•æ·»åŠ å‰ç¼€
      if (!base64.startsWith('data:')) {
        // ç§»é™¤å¯èƒ½çš„ç©ºæ ¼å’Œæ¢è¡Œ
        base64 = base64.replace(/\s/g, '');
        // å°è¯•æ£€æµ‹å›¾ç‰‡ç±»å‹
        base64 = 'data:image/png;base64,' + base64;
      }

      try {
        // åˆ›å»ºå›¾ç‰‡æµ‹è¯•æ˜¯å¦æœ‰æ•ˆ
        const img = new Image();
        img.onload = function() {
          currentImageData = base64;
          showMessage('âœ“ Base64è§£ç æˆåŠŸ', 'success');
        };
        img.onerror = function() {
          currentImageData = null;
          showMessage('âœ— æ— æ•ˆçš„Base64å›¾ç‰‡æ•°æ®', 'error');
        };
        img.src = base64;
      } catch (e) {
        currentImageData = null;
        showMessage('âœ— Base64è§£ç å¤±è´¥', 'error');
      }
    }

    // å¤åˆ¶å›¾ç‰‡Base64
    function copyImageBase64() {
      if (!currentImageData) {
        showMessage('æ²¡æœ‰å¯å¤åˆ¶çš„Base64æ•°æ®', 'error');
        return;
      }

      const textarea = document.createElement('textarea');
      textarea.value = currentImageData;
      textarea.style.position = 'fixed';
      textarea.style.opacity = '0';
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);

      showMessage('âœ“ Base64å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
    }

    // ä¸‹è½½å›¾ç‰‡
    function downloadImage() {
      if (!currentImageData) {
        showMessage('æ²¡æœ‰å¯ä¸‹è½½çš„å›¾ç‰‡', 'error');
        return;
      }

      try {
        const link = document.createElement('a');
        link.href = currentImageData;
        link.download = 'decoded-image-' + Date.now() + '.png';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        showMessage('âœ“ å›¾ç‰‡ä¸‹è½½æˆåŠŸ', 'success');
      } catch (e) {
        showMessage('âœ— å›¾ç‰‡ä¸‹è½½å¤±è´¥', 'error');
      }
    }

    // æ¸…ç©ºå›¾ç‰‡
    function clearImage() {
      currentImageData = null;
      document.getElementById('fileInput').value = '';
      document.getElementById('fileInfo').classList.add('hidden');
      document.getElementById('imagePreview').innerHTML = '<div class="preview-placeholder">ä¸Šä¼ å›¾ç‰‡åå°†åœ¨æ­¤æ˜¾ç¤ºé¢„è§ˆ</div>';
      document.getElementById('base64Input').value = '';
      isDecodeMode = false;
      updateImageModeUI();
      showMessage('âœ“ å·²æ¸…ç©º', 'success');
    }

    // å¤åˆ¶ä»£ç 
    function copyCode(button, codeId) {
      const codeElement = document.getElementById(codeId);
      const text = codeElement.textContent;
      
      const textarea = document.createElement('textarea');
      textarea.value = text;
      textarea.style.position = 'fixed';
      textarea.style.opacity = '0';
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      
      const originalText = button.textContent;
      button.textContent = 'å·²å¤åˆ¶!';
      setTimeout(() => {
        button.textContent = originalText;
      }, 2000);
      
      showMessage('âœ“ å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
    }

    // æ˜¾ç¤ºæ¶ˆæ¯æç¤º
    function showMessage(message, type) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${type}`;
      messageDiv.textContent = message;

      document.body.appendChild(messageDiv);

      setTimeout(() => {
        messageDiv.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => {
          document.body.removeChild(messageDiv);
        }, 300);
      }, 2000);
    }
  </script>
</body>
</html>